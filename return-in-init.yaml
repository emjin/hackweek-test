rules:
- id: python.lang.correctness.return-in-init
  patterns:
  - patterns:
    - pattern-inside: |
            class $A(...):
                ...
    - pattern-inside: |
            def __init__(...):
                ...
    - pattern-not-inside: |
            def __init__(...):
                ...
                def $F(...):
                    ...
  - patterns:
    - pattern: return ...
    - pattern-not: return
    - pattern-not: return None
  message: '`return` should never appear inside 
  a class __init__ function. This will cause a 
  runtime error.'
  languages:
  - python
  severity: ERROR
